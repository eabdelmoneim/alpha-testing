"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.autoConnectEmbeddedWallet = exports.connectEmbeddedWallet = void 0;
const ethereum_js_1 = require("../../../../chains/chain-definitions/ethereum.js");
/**
 * @internal
 */
async function connectEmbeddedWallet(options) {
    const { authenticate } = await Promise.resolve().then(() => require("../authentication/index.js"));
    const authResult = await authenticate(options);
    const authAccount = await authResult.user.wallet.getAccount();
    return [authAccount, options.chain || ethereum_js_1.ethereum];
}
exports.connectEmbeddedWallet = connectEmbeddedWallet;
/**
 * @internal
 */
async function autoConnectEmbeddedWallet(options) {
    const { getAuthenticatedUser } = await Promise.resolve().then(() => require("../authentication/index.js"));
    const user = await getAuthenticatedUser({ client: options.client });
    if (!user) {
        throw new Error("not authenticated");
    }
    const authAccount = await user.wallet.getAccount();
    return [authAccount, options.chain || ethereum_js_1.ethereum];
}
exports.autoConnectEmbeddedWallet = autoConnectEmbeddedWallet;
//# sourceMappingURL=index.js.map